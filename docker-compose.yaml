version: "3"

services:
  containerd:
    build:
      context: ./containerd
      # args:
      #   VERSION: 1.2.10
    image: containerd
    privileged: true
    volumes:
      - run-containerd:/run/containerd/
  client:
    build:
      context: ./client
    image: client
    privileged: true
    volumes:
      - run-containerd:/run/containerd/

volumes:
  run-containerd:
    driver: local
    driver_opts:
      type: tmpfs
      device: tmpfs
      # o: "size=256m,uid=1000"